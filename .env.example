# 双账户对冲网格交易策略系统 - 环境变量配置模板
# 复制此文件为 .env 并填入您的实际配置

# =============================================================================
# 基础交易配置
# =============================================================================

# 交易对 (币安期货格式)
TRADING_PAIR=DOGE/USDC:USDC

# 计价货币
QUOTE_ASSET=USDC

# 是否使用测试网 (true/false)
USE_TESTNET=false

# =============================================================================
# 做多账户配置 (币安期货账户1)
# =============================================================================

# 做多账户API密钥
BINANCE_LONG_API_KEY=your_long_account_api_key_here

# 做多账户API密钥
BINANCE_LONG_API_SECRET=your_long_account_secret_here

# =============================================================================
# 做空账户配置 (币安期货账户2)
# =============================================================================

# 做空账户API密钥
BINANCE_SHORT_API_KEY=your_short_account_api_key_here

# 做空账户API密钥
BINANCE_SHORT_API_SECRET=your_short_account_secret_here

# =============================================================================
# 网格策略参数
# =============================================================================

# 网格层数 (自动计算，基于ATR通道和网格间距)
# GRID_LEVELS=50  # 注释掉，使用自动计算

# 目标利润率 (建议: 0.001-0.01)
TARGET_PROFIT_RATE=0.002

# 杠杆倍数 (建议: 5-20)
LEVERAGE=12

# ATR周期 (建议: 7-30)
ATR_LENGTH=14

# ATR乘数 (建议: 1.5-3.0)
ATR_MULTIPLIER=2.0

# 安全系数 (建议: 0.7-0.9)
SAFETY_FACTOR=0.8

# 最大杠杆限制 (建议: 不超过20)
MAX_LEVERAGE=20

# =============================================================================
# 账户管理参数
# =============================================================================

# 余额容差 (5% = 0.05)
BALANCE_TOLERANCE=0.05

# 最小转账金额
MIN_TRANSFER_AMOUNT=10

# 账户余额检查间隔 (秒)
BALANCE_CHECK_INTERVAL=300

# =============================================================================
# 风险控制参数
# =============================================================================

# 单边最大持仓 (USDC)
MAX_SINGLE_POSITION=5000

# 最大网格偏离 (10% = 0.1)
MAX_GRID_DEVIATION=0.1

# 紧急止损比例 (可选，不设置则不启用)
# EMERGENCY_STOP_LOSS=0.1

# 最大重试次数
MAX_RETRIES=3

# =============================================================================
# 系统监控参数
# =============================================================================

# 心跳间隔 (秒)
HEARTBEAT_INTERVAL=30

# 状态更新间隔 (秒)
STATUS_UPDATE_INTERVAL=60

# 日志级别 (DEBUG/INFO/WARNING/ERROR)
LOG_LEVEL=INFO

# =============================================================================
# 订单执行参数
# =============================================================================

# 订单频率限制 (秒，从3秒减少到1秒以提高响应速度)
ORDER_FREQUENCY=1

# 最大开仓订单数 (从5个增加到10个以支持更多网格层级)
MAX_OPEN_ORDERS=10

# 每批最大订单数 (从2个增加到5个以提高执行效率)
MAX_ORDERS_PER_BATCH=5

# 最小订单金额 (USDC)
MIN_ORDER_AMOUNT=5

# 订单间最小价差
MIN_SPREAD_BETWEEN_ORDERS=0.0005

# 激活边界 (5% = 0.05，从2%增加到5%以支持更多网格层级)
ACTIVATION_BOUNDS=0.05

# 额外安全价差
SAFE_EXTRA_SPREAD=0.0001

# =============================================================================
# 网络和连接参数
# =============================================================================

# API请求超时 (毫秒)
API_TIMEOUT=10000

# 是否启用速率限制
ENABLE_RATE_LIMIT=true

# WebSocket重连间隔 (秒)
WS_RECONNECT_INTERVAL=5

# WebSocket最大重连次数
WS_MAX_RECONNECT=10

# =============================================================================
# 高级配置 (可选)
# =============================================================================

# 是否扣除基础手续费
DEDUCT_BASE_FEES=false

# 是否保持持仓
KEEP_POSITION=false

# 订单类型 (LIMIT/LIMIT_MAKER)
OPEN_ORDER_TYPE=LIMIT_MAKER
TAKE_PROFIT_ORDER_TYPE=LIMIT_MAKER

# =============================================================================
# 开发和调试参数 (可选)
# =============================================================================

# 是否启用调试模式
DEBUG_MODE=false

# 是否启用详细日志
VERBOSE_LOGGING=false

# 模拟交易模式 (仅用于测试)
SIMULATION_MODE=false

# =============================================================================
# 数据库配置 (如果需要)
# =============================================================================

# 数据库URL (可选)
# DATABASE_URL=sqlite:///grid_trading.db

# =============================================================================
# 通知配置 (可选)
# =============================================================================

# 邮件通知 (可选)
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your_email@gmail.com
# EMAIL_PASSWORD=your_email_password
# EMAIL_TO=notification@example.com

# 微信通知 (可选)
# WECHAT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=your_key

# =============================================================================
# 配置说明
# =============================================================================

# 1. 必须配置项：
#    - BINANCE_LONG_API_KEY, BINANCE_LONG_API_SECRET (做多账户)
#    - BINANCE_SHORT_API_KEY, BINANCE_SHORT_API_SECRET (做空账户)
#    - TRADING_PAIR (交易对)

# 2. 重要参数说明：
#    - LEVERAGE: 杠杆倍数，建议不超过20倍
#    - TARGET_PROFIT_RATE: 目标利润率，影响网格间距和层数
#    - ATR_MULTIPLIER: ATR乘数，影响价格通道宽度和网格层数
#    - MAX_SINGLE_POSITION: 单边最大持仓，重要风控参数

# 3. 安全建议：
#    - 首次使用建议设置 USE_TESTNET=true 进行测试
#    - 建议使用小额资金进行实盘测试
#    - 定期检查和调整风险控制参数

# 4. 性能优化：
#    - ORDER_FREQUENCY: 订单频率，避免触发交易所限制
#    - MAX_OPEN_ORDERS: 最大开仓订单数，平衡效率和风险
#    - HEARTBEAT_INTERVAL: 心跳间隔，平衡实时性和资源消耗
